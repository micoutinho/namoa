<ion-content tappable (click)="closeModal()" class="transparent">
</ion-content>

<ion-content padding class="content-page">
  <div *ngIf="!dateRating; else avaliado">
    <h5>{{ 'Avalie o trade' | translate }}</h5>

    <rating [(ngModel)]="rate"
          readOnly="false"
          max="5"
          emptyStarIconName="star-outline"
          halfStarIconName="star-half"
          starIconName="star"
          nullable="false" ></rating>

    <ion-item>
        <ion-label floating>{{ 'OBSERVAÇÂO' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="observation" required></ion-input>
    </ion-item>

    <button
    ion-button
    block
    outline
    namoa-color
    class="btn-rating"
    (click)="saveRating()">
    {{ 'SALVAR AVALIAÇÃO' | translate }}
    </button>
  </div>
  <ng-template #avaliado>
    <h5>{{ 'AVALIAÇÃO DO TRADE' | translate }}</h5>
    <p>{{ 'DATA DA AVALIAÇÃO' | translate }}: {{dateRating.ratingDate | date: "dd/MM/yyyy"}}</p>
    <p>{{ 'NOTA DE AVALIAÇÃO' | translate }}: {{dateRating.rating}}/5</p>
    <p>{{ 'MÉDIA DA AVALIAÇÃO DO TRADE' | translate }}: {{(avgRating/allRatesTrade.length).toFixed(2).replace('.',',')}}</p>

    <button
    ion-button
    block
    outline
    namoa-color
    class="btn-rating"
    (click)="closeModal()">
    {{ 'VOLTAR' | translate }}
    </button>
  </ng-template>

</ion-content>
